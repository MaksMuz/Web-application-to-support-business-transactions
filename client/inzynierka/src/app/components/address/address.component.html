<section id="address">
  <div class="container p-5">
    <app-alert></app-alert>
    <h4 class="display-4">My Address</h4>
    <hr>
    <div *ngIf="address" class="card bg-light">
      <div class="card-body">
        <form>
          <div class="form-group">
            <label>Country</label>
            <input type="text" name="country" class="form-control" [(ngModel)]="address.country"
                   #temp="ngModel" [pattern]="letterPattern" minlength="2" maxlength="20" required>
            <div *ngIf="temp.invalid && (temp.touched)"
                 class="alert alert-danger">

              <div *ngIf="temp.errors.required">
                Country is required.
              </div>
              <div *ngIf="temp.errors.minlength">
                Country must be at least 2 characters long.
              </div>
              <div *ngIf="temp.errors.pattern">
                Please provide a valid country.
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Province</label>
                <input type="text" name="province" class="form-control" [(ngModel)]="address.province"
                       #prov="ngModel" [pattern]="letterPattern" minlength="2" maxlength="20" required>
                <div *ngIf="prov.invalid && (prov.touched)"
                     class="alert alert-danger">

                  <div *ngIf="prov.errors.required">
                    Province is required.
                  </div>
                  <div *ngIf="prov.errors.minlength">
                    Province must be at least 2 characters long.
                  </div>
                  <div *ngIf="prov.errors.pattern">
                    Please provide a valid Province.
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>City</label>
                <input type="text" name="city" class="form-control" [(ngModel)]="address.city"
                       #cit="ngModel" [pattern]="letterPattern" minlength="2" maxlength="20" required>
                <div *ngIf="cit.invalid && (cit.touched)"
                     class="alert alert-danger">

                  <div *ngIf="cit.errors.required">
                    City is required.
                  </div>
                  <div *ngIf="cit.errors.minlength">
                    City must be at least 2 characters long.
                  </div>
                  <div *ngIf="cit.errors.pattern">
                    Please provide a valid city.
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>Address</label>
                <input type="text" name="address" class="form-control" [(ngModel)]="address.shipAddress"
                       #addre="ngModel" [pattern]="addressPattern" minlength="2" maxlength="20" required>
                <div *ngIf="addre.invalid && (addre.touched)"
                     class="alert alert-danger">

                  <div *ngIf="addre.errors.required">
                    Address is required.
                  </div>
                  <div *ngIf="addre.errors.minlength">
                    Address must be at least 2 characters long.
                  </div>
                  <div *ngIf="addre.errors.pattern">
                    Please provide a valid ship address.
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label>Post Code</label>
            <input type="text" name="postCode" class="form-control" [(ngModel)]="address.postCode"
                   #post="ngModel" [pattern]="postCodePattern" required>
            <div *ngIf="post.invalid && (post.touched)"
                 class="alert alert-danger">

              <div *ngIf="post.errors.required">
                Post code is required.
              </div>
              <div *ngIf="post.errors.pattern">
                Please provide a valid post code.
              </div>
            </div>

          </div>
          <button type="button" class="btn btn-dark" (click)="updateUserAddress()">Change Address</button>
          <button type="button" class="btn btn-dark float-right" routerLink="/account">Back</button>
        </form>
      </div>
    </div>
  </div>
</section>

